# ===============================
# VyapaarMitra Production Environment
# ===============================

# Environment
NODE_ENV=production
ENVIRONMENT=production

# ===============================
# Domain Configuration
# ===============================
DOMAIN=vyapaarmitra.in
WEB_URL=https://vyapaarmitra.in
ADMIN_URL=https://admin.vyapaarmitra.in
API_BASE_URL=https://api.vyapaarmitra.in

# Frontend URLs
NEXTAUTH_URL=https://vyapaarmitra.in
NEXT_PUBLIC_API_URL=https://api.vyapaarmitra.in
NEXT_PUBLIC_WEB_URL=https://vyapaarmitra.in

# API Service URLs
AUTH_API_URL=https://api.vyapaarmitra.in
MSME_API_URL=https://api.vyapaarmitra.in/msme
VALUATION_API_URL=https://api.vyapaarmitra.in/valuation
MATCH_API_URL=https://api.vyapaarmitra.in/match

# Internal service URLs (for Docker)
AUTH_API_INTERNAL_URL=http://auth-api:8000
MSME_API_INTERNAL_URL=http://msme-api:8001
VALUATION_API_INTERNAL_URL=http://valuation-api:8002
MATCH_API_INTERNAL_URL=http://match-api:8003

# ===============================
# Database Configuration
# ===============================
# Railway/Render will provide these automatically
DATABASE_URL=${DATABASE_URL}
POSTGRES_HOST=${POSTGRES_HOST}
POSTGRES_PORT=${POSTGRES_PORT:-5432}
POSTGRES_DB=${POSTGRES_DB:-vyapaarmitra}
POSTGRES_USER=${POSTGRES_USER}
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ===============================
# Redis Configuration
# ===============================
REDIS_URL=${REDIS_URL}
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT:-6379}
REDIS_PASSWORD=${REDIS_PASSWORD}

# ===============================
# Authentication & Security
# ===============================
JWT_SECRET=${JWT_SECRET}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
NEXTAUTH_SECRET=${NEXTAUTH_SECRET}
ADMIN_SECRET_KEY=${ADMIN_SECRET_KEY}

# Session Configuration
SESSION_SECRET=${SESSION_SECRET}
SESSION_TIMEOUT=86400
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true

# ===============================
# External Services
# ===============================

# Email Service (SendGrid)
SENDGRID_API_KEY=${SENDGRID_API_KEY}
SENDGRID_FROM_EMAIL=noreply@vyapaarmitra.in
SENDGRID_FROM_NAME=VyapaarMitra

# SMS Service (Twilio)
TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}
TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}
TWILIO_PHONE_NUMBER=${TWILIO_PHONE_NUMBER}
TWILIO_VERIFY_SERVICE_SID=${TWILIO_VERIFY_SERVICE_SID}

# AWS Configuration
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_REGION=ap-south-1
AWS_BUCKET_NAME=vyapaarmitra-uploads

# Error Monitoring (Sentry)
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ===============================
# Service Ports
# ===============================
PORT=3000
WEB_PORT=3000
AUTH_API_PORT=8000
MSME_API_PORT=8001
VALUATION_API_PORT=8002
MATCH_API_PORT=8003
ADMIN_API_PORT=8004

# ===============================
# Monitoring & Health Checks
# ===============================
PROMETHEUS_ENABLED=true
HEALTH_CHECK_ENABLED=true
METRICS_PORT=9090

# ===============================
# Rate Limiting
# ===============================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ===============================
# File Upload
# ===============================
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/doc,application/docx
UPLOAD_PATH=/app/uploads

# ===============================
# CORS Configuration
# ===============================
CORS_ORIGINS=https://vyapaarmitra.in,https://admin.vyapaarmitra.in,https://api.vyapaarmitra.in
CORS_CREDENTIALS=true

# ===============================
# Logging
# ===============================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log

# ===============================
# Cache Configuration
# ===============================
CACHE_TTL=3600
CACHE_PREFIX=vyapaarmitra_
ENABLE_CACHE=true

# ===============================
# Feature Flags
# ===============================
ENABLE_REGISTRATION=true
ENABLE_LOANS=true
ENABLE_MARKETPLACE=true
ENABLE_VALUATION=true
ENABLE_CHAT=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true

# ===============================
# Business Configuration
# ===============================
MIN_LOAN_AMOUNT=10000
MAX_LOAN_AMOUNT=5000000
DEFAULT_LOAN_TENURE=12
MAX_LOAN_TENURE=60

# ===============================
# Regional Settings
# ===============================
DEFAULT_TIMEZONE=Asia/Kolkata
DEFAULT_CURRENCY=INR
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,hi,ta,te,bn,gu,mr,kn

# ===============================
# Development Overrides (leave empty for production)
# ===============================
DEBUG=false
TEST_MODE=false
MOCK_EXTERNAL_APIS=false