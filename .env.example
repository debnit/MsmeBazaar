# ===============================
# MSMEBazaar V3 Environment Configuration
# ===============================

# Application Environment
NODE_ENV=production
ENVIRONMENT=production

# ===============================
# Database Configuration
# ===============================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=msmebazaar
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Full Database URL (used by apps)
DATABASE_URL=postgresql://postgres:your_secure_postgres_password_here@localhost:5432/msmebazaar

# ===============================
# Redis Configuration
# ===============================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_URL=redis://:your_secure_redis_password_here@localhost:6379

# ===============================
# Authentication & JWT
# ===============================
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
NEXTAUTH_SECRET=your_nextauth_secret_at_least_32_characters_long
NEXTAUTH_URL=https://app.msmebazaar.com

# Admin Authentication
ADMIN_SECRET_KEY=your_admin_secret_key_here

# ===============================
# OTP Configuration
# ===============================
OTP_EXPIRATION_MINUTES=5
OTP_LENGTH=6

# ===============================
# Email Service (SendGrid)
# ===============================
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@msmebazaar.com
SENDGRID_FROM_NAME=MSMEBazaar

# ===============================
# SMS Service (Twilio)
# ===============================
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SERVICE_SID=your_twilio_verify_service_sid

# ===============================
# AWS Configuration
# ===============================
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_REGION=us-east-1
AWS_BUCKET_NAME=msmebazaar-uploads

# S3 Configuration
S3_BUCKET_PUBLIC=msmebazaar-public
S3_BUCKET_PRIVATE=msmebazaar-private
S3_CDN_URL=https://cdn.msmebazaar.com

# ===============================
# Error Monitoring (Sentry)
# ===============================
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ===============================
# Payment Gateway (Razorpay)
# ===============================
RAZORPAY_KEY_ID=your_razorpay_key_id_here
RAZORPAY_KEY_SECRET=your_razorpay_key_secret_here
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret_here

# ===============================
# API Service URLs
# ===============================
AUTH_API_URL=https://api.msmebazaar.com
MSME_API_URL=https://msme.msmebazaar.com
VALUATION_API_URL=https://valuation.msmebazaar.com

# Internal service URLs (for Docker)
AUTH_API_INTERNAL_URL=http://auth-api:8000
MSME_API_INTERNAL_URL=http://msme-api:8000
VALUATION_API_INTERNAL_URL=http://valuation-api:8000

# ===============================
# Frontend Configuration
# ===============================
WEB_URL=https://app.msmebazaar.com
ADMIN_URL=https://admin.msmebazaar.com
API_BASE_URL=https://api.msmebazaar.com

# ===============================
# File Upload Configuration
# ===============================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/doc,application/docx
UPLOAD_PATH=/app/uploads

# ===============================
# Rate Limiting
# ===============================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ===============================
# Session Configuration
# ===============================
SESSION_SECRET=your_session_secret_here
SESSION_TIMEOUT=86400  # 24 hours in seconds
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true

# ===============================
# CORS Configuration
# ===============================
CORS_ORIGINS=https://app.msmebazaar.com,https://admin.msmebazaar.com
CORS_CREDENTIALS=true

# ===============================
# SSL/TLS Configuration
# ===============================
SSL_CERT_PATH=/etc/ssl/certs/msmebazaar.crt
SSL_KEY_PATH=/etc/ssl/private/msmebazaar.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# ===============================
# Monitoring & Analytics
# ===============================
GOOGLE_ANALYTICS_ID=your_google_analytics_id_here
MIXPANEL_TOKEN=your_mixpanel_token_here
HOTJAR_ID=your_hotjar_id_here

# ===============================
# Search Configuration (Algolia)
# ===============================
ALGOLIA_APP_ID=your_algolia_app_id_here
ALGOLIA_API_KEY=your_algolia_api_key_here
ALGOLIA_SEARCH_KEY=your_algolia_search_key_here
ALGOLIA_INDEX_NAME=msmebazaar_businesses

# ===============================
# Machine Learning Models
# ===============================
ML_MODEL_PATH=/app/models
ML_MODEL_VERSION=1.0.0
VALUATION_MODEL_ENDPOINT=https://api.msmebazaar.com/ml/valuation

# ===============================
# Logging Configuration
# ===============================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10

# ===============================
# Cache Configuration
# ===============================
CACHE_TTL=3600  # 1 hour in seconds
CACHE_PREFIX=msmebazaar_
ENABLE_CACHE=true

# ===============================
# Background Jobs (Celery)
# ===============================
CELERY_BROKER_URL=redis://:your_secure_redis_password_here@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:your_secure_redis_password_here@localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# ===============================
# Database Connection Pooling
# ===============================
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ===============================
# External Services
# ===============================

# Maps & Location (Google Maps)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# Communication (WhatsApp Business)
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token_here
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id_here
WHATSAPP_VERIFY_TOKEN=your_whatsapp_verify_token_here

# Document Verification (Aadhaar, PAN)
AADHAAR_VERIFICATION_API_KEY=your_aadhaar_api_key_here
PAN_VERIFICATION_API_KEY=your_pan_api_key_here

# Credit Bureau Integration
CIBIL_API_KEY=your_cibil_api_key_here
EXPERIAN_API_KEY=your_experian_api_key_here

# Banking APIs
BANK_API_KEY=your_bank_api_key_here
UPI_API_KEY=your_upi_api_key_here

# ===============================
# Feature Flags
# ===============================
ENABLE_REGISTRATION=true
ENABLE_LOANS=true
ENABLE_MARKETPLACE=true
ENABLE_VALUATION=true
ENABLE_CHAT=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true

# ===============================
# Security Configuration
# ===============================
HELMET_CSP_DIRECTIVES=default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'
BCRYPT_ROUNDS=12
ENCRYPTION_KEY=your_encryption_key_32_characters_long
HASH_SALT_ROUNDS=10

# ===============================
# API Keys & Integrations
# ===============================

# Social Media APIs
FACEBOOK_APP_ID=your_facebook_app_id_here
FACEBOOK_APP_SECRET=your_facebook_app_secret_here
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Business Registration APIs
MCA_API_KEY=your_mca_api_key_here
GST_API_KEY=your_gst_api_key_here

# ===============================
# Deployment Configuration
# ===============================

# Railway
RAILWAY_PROJECT_ID=your_railway_project_id_here
RAILWAY_TOKEN=your_railway_token_here

# Render
RENDER_API_KEY=your_render_api_key_here

# Kubernetes
K8S_NAMESPACE=msmebazaar
K8S_CLUSTER_NAME=msmebazaar-cluster

# Docker
DOCKER_REGISTRY=your_docker_registry_here
DOCKER_USERNAME=your_docker_username_here
DOCKER_PASSWORD=your_docker_password_here

# ===============================
# Health Check Configuration
# ===============================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# ===============================
# Backup Configuration
# ===============================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=msmebazaar-backups

# ===============================
# CDN Configuration
# ===============================
CDN_URL=https://cdn.msmebazaar.com
CDN_API_KEY=your_cdn_api_key_here

# ===============================
# Notification Settings
# ===============================
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_WHATSAPP_NOTIFICATIONS=true

# Push Notifications (Firebase)
FIREBASE_PROJECT_ID=your_firebase_project_id_here
FIREBASE_PRIVATE_KEY=your_firebase_private_key_here
FIREBASE_CLIENT_EMAIL=your_firebase_client_email_here

# ===============================
# Performance Monitoring
# ===============================
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key_here
NEW_RELIC_APP_NAME=MSMEBazaar-Production

# ===============================
# A/B Testing
# ===============================
OPTIMIZELY_SDK_KEY=your_optimizely_sdk_key_here

# ===============================
# Compliance & Legal
# ===============================
PRIVACY_POLICY_URL=https://msmebazaar.com/privacy
TERMS_OF_SERVICE_URL=https://msmebazaar.com/terms
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=2555  # 7 years

# ===============================
# Business Logic Configuration
# ===============================
MIN_LOAN_AMOUNT=10000
MAX_LOAN_AMOUNT=5000000
DEFAULT_LOAN_TENURE=12
MAX_LOAN_TENURE=60
INTEREST_RATE_MIN=8.5
INTEREST_RATE_MAX=18.0

# Valuation Parameters
VALUATION_MODEL_VERSION=2.1
MIN_BUSINESS_AGE_MONTHS=6
MAX_VALUATION_AMOUNT=100000000

# ===============================
# Regional Configuration
# ===============================
DEFAULT_TIMEZONE=Asia/Kolkata
DEFAULT_CURRENCY=INR
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,hi,ta,te,bn,gu,mr,kn

# ===============================
# Development & Testing
# ===============================
# Only set these in development/staging environments
# DEBUG=false
# TEST_MODE=false
# MOCK_EXTERNAL_APIS=false